{"version":3,"sources":["webpack:///./src/views/login/login.vue?ead2","webpack:///src/components/draggableDialog/Index.vue","webpack:///./src/components/draggableDialog/Index.vue?c717","webpack:///./src/components/draggableDialog/Index.vue","webpack:///src/views/login/login.vue","webpack:///./src/views/login/login.vue?3fd9","webpack:///./src/views/login/login.vue"],"names":["module","exports","menuBackgroundColor","menuTextColor","menuActiveTextColor","Index","name","props","top","type","Number","default","bottom","left","right","center","Boolean","width","isDrag","overflow","offset","Array","data","option","drapDom","drapHeader","dragHeight","dragWidth","winWidth","winHeight","mouseX","mouseY","mounted","this","$slots","header","elm","style","cursor","initData","window","addEventListener","destroyed","removeEvent","mouseDown","methods","$refs","draggableWrap","offsetHeight","offsetWidth","innerHeight","innerWidth","initPosition","addEvent","e","offsetX","offsetY","document","mouseMove","mouseUp","ny","pageY","nx","pageX","maxY","maxX","el","event","handler","attachEvent","detachEvent","removeEventListener","draggableDialog_Index","render","_h","$createElement","_self","_c","ref","class","_t","_v","staticRenderFns","components_draggableDialog_Index","__webpack_require__","normalizeComponent","ssrContext","login_login","components","draggableDialog","rules","required","message","trigger","pass","ruleForm","checked","created","getCookie","submitForm","formName","_this","validate","valid","login","resetForm","resetFields","keyup","res","Object","api_login","code","result","setCookie","clearCookie","localStorage","setItem","token","user","_code","_message","_result","stringify_default","$router","push","path","query","status","$message","warning","time","date","Date","setTime","getTime","cookie","toGMTString","length","arr","split","i","arr2","views_login_login","_vm","staticClass","attrs","slot","model","status-icon","label-width","label","prop","nativeOn","$event","indexOf","_k","keyCode","key","value","callback","$$v","$set","expression","autocomplete","on","click","login_Component","login_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.c2d627d2a675633cec53.js","sourcesContent":["// removed by extract-text-webpack-plugin\nmodule.exports = {\"menuBackgroundColor\":\"#5a5a5a\",\"menuTextColor\":\"#fff\",\"menuActiveTextColor\":\"#ffd04b\"};\n\n\n// WEBPACK FOOTER //\n// \"}!./node_modules/_vue-style-loader@3.1.2@vue-style-loader!./node_modules/_css-loader@0.28.11@css-loader?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-8c45f92c\",\"scoped\":false,\"hasInlineConfig\":false}!./node_modules/_sass-loader@6.0.7@sass-loader/lib/loader.js?{\"sourceMap\":true}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=styles&index=0!./src/views/login/login.vue","// 拖动组件\r\n<template>\r\n  <div\r\n    ref=\"draggableWrap\"\r\n    :style=\"`width:${width}px`\"\r\n    :class=\"`draggable-wrap ${isDrag?'cursor-scroll':''}`\"\r\n  >\r\n    <slot name=\"header\"></slot>\r\n    <slot name=\"body\"></slot>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"draggable\",\r\n  props: {\r\n    // 只支持以下组合：top/left、top/right、bottom/left、bottom/right。注意top/bottom、left/right不可同时传递\r\n    top: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    bottom: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    left: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    right: {\r\n      type: Number,\r\n      default: null\r\n    },\r\n    center: {\r\n      // 显示在中心\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    width: {\r\n      type: Number,\r\n      default: 500\r\n    },\r\n    isDrag: {\r\n      // 是否开启拖动\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    overflow: {\r\n      // 是否超出屏幕，默认否，配合offset使用\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    offset: {\r\n      type: Array,\r\n      default: () => {\r\n        // 距离屏幕边距，分别代表：top/right/bottom/left(px)\r\n        return [0, 0, 0, 0];\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      option: {\r\n        drapDom: null, // 拖动元素\r\n        drapHeader: null, // 拖动元素插槽的元素\r\n        dragHeight: null, // 拖动元素的高度\r\n        dragWidth: null,\r\n        winWidth: null, // 浏览器窗口宽度\r\n        winHeight: null,\r\n        mouseX: 0, // 鼠标按下时相对拖动元素的left坐标\r\n        mouseY: 0 // 鼠标按下时相对拖动元素的top坐标\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.option.drapHeader = this.$slots.header[0].elm;\r\n    this.option.drapHeader.style.cursor = this.isDrag ? \"all-scroll\" : \"\";\r\n    this.initData();\r\n    window.addEventListener(\"resize\", this.initData);\r\n  },\r\n  destroyed() {\r\n    // window.removeEventListener('resize', this.initData)\r\n    this.removeEvent(window, \"resize\", this.initData);\r\n    this.removeEvent(this.option.drapHeader, \"mousedown\", this.mouseDown);\r\n  },\r\n  methods: {\r\n    // 初始化信息\r\n    initData() {\r\n      let drapDom = this.$refs.draggableWrap;\r\n      if (!drapDom) return;\r\n      this.option.drapDom = drapDom;\r\n      this.option.dragHeight = drapDom.offsetHeight || 0;\r\n      this.option.dragWidth = drapDom.offsetWidth || 0;\r\n      this.option.winHeight = window.innerHeight || 0;\r\n      this.option.winWidth = window.innerWidth || 0;\r\n      this.initPosition();\r\n    },\r\n    // 初始化定位\r\n    initPosition() {\r\n      this.$refs.draggableWrap.style.bottom = \"initial\";\r\n      this.$refs.draggableWrap.style.right = \"initial\";\r\n      if (!this.center) {\r\n        if (this.bottom !== null) {\r\n          this.option.drapDom.style.top =\r\n            this.option.winHeight - this.option.dragHeight - this.bottom + \"px\";\r\n        }\r\n        if (this.right !== null) {\r\n          this.option.drapDom.style.left =\r\n            this.option.winWidth - this.option.dragWidth - this.right + \"px\";\r\n        }\r\n        if (this.top !== null) {\r\n          this.option.drapDom.style.top = this.top + \"px\";\r\n        }\r\n        if (this.left !== null) {\r\n          this.option.drapDom.style.left = this.left + \"px\";\r\n        }\r\n      } else {\r\n        this.option.drapDom.style.top =\r\n          this.option.winHeight / 2 - this.option.dragHeight / 2 + \"px\";\r\n        this.option.drapDom.style.left =\r\n          this.option.winWidth / 2 - this.option.dragWidth / 2 + \"px\";\r\n      }\r\n\r\n      if (this.isDrag) {\r\n        this.addEvent(this.option.drapHeader, \"mousedown\", this.mouseDown);\r\n      }\r\n    },\r\n    // 鼠标按下\r\n    mouseDown(e) {\r\n      this.option.mouseX = e.offsetX;\r\n      this.option.mouseY = e.offsetY;\r\n      this.addEvent(document, \"mousemove\", this.mouseMove);\r\n      this.addEvent(document, \"mouseup\", this.mouseUp);\r\n    },\r\n    // 鼠标松开，移除事件\r\n    mouseUp(e) {\r\n      this.removeEvent(document, \"mousemove\", this.mouseMove);\r\n    },\r\n    // 鼠标移动\r\n    mouseMove(e) {\r\n      let ny = e.pageY - this.option.mouseY;\r\n      let nx = e.pageX - this.option.mouseX;\r\n      if (this.overflow) {\r\n        this.option.drapDom.style.top = ny + \"px\";\r\n        this.option.drapDom.style.left = nx + \"px\";\r\n      } else {\r\n        let maxY =\r\n          ny >= this.option.winHeight - this.option.dragHeight - this.offset[2]\r\n            ? this.option.winHeight - this.option.dragHeight - this.offset[2]\r\n            : ny;\r\n        let maxX =\r\n          nx >= this.option.winWidth - this.option.dragWidth - this.offset[1]\r\n            ? this.option.winWidth - this.option.dragWidth - this.offset[1]\r\n            : nx;\r\n        this.option.drapDom.style.top =\r\n          ny <= this.offset[0] ? this.offset[0] : maxY + \"px\";\r\n        this.option.drapDom.style.left =\r\n          nx <= this.offset[3] ? this.offset[3] : maxX + \"px\";\r\n      }\r\n    },\r\n    // 绑定事件\r\n    addEvent(el, event, handler) {\r\n      if (!el) {\r\n        return;\r\n      }\r\n      if (el.attachEvent) {\r\n        el.attachEvent(\"on\" + event, handler);\r\n      } else if (el.addEventListener) {\r\n        el.addEventListener(event, handler, true);\r\n      } else {\r\n        el[\"on\" + event] = handler;\r\n      }\r\n    },\r\n    // 移除事件\r\n    removeEvent(el, event, handler) {\r\n      if (!el) {\r\n        return;\r\n      }\r\n      if (el.detachEvent) {\r\n        el.detachEvent(\"on\" + event, handler);\r\n      } else if (el.removeEventListener) {\r\n        el.removeEventListener(event, handler, true);\r\n      } else {\r\n        el[\"on\" + event] = null;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style>\r\n.draggable-wrap {\r\n  position: fixed;\r\n  /* top: 20px; */\r\n  /* left: 20px; */\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/draggableDialog/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"draggableWrap\",class:(\"draggable-wrap \" + (_vm.isDrag?'cursor-scroll':'')),style:((\"width:\" + _vm.width + \"px\"))},[_vm._t(\"header\"),_vm._v(\" \"),_vm._t(\"body\")],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-2e9ffd36\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/draggableDialog/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e9ffd36\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e9ffd36\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/draggableDialog/Index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"login_login-container\">\r\n    <draggable-dialog class=\"layout-login\" :center=\"true\" :width=\"400\">\r\n      <template slot=\"header\">\r\n        <div class=\"login-title\">\r\n          <span>登 录</span>\r\n        </div>\r\n      </template>\r\n      <template slot=\"body\">\r\n        <div class=\"login-form\">\r\n          <el-form\r\n            :model=\"ruleForm\"\r\n            status-icon\r\n            :rules=\"rules\"\r\n            ref=\"ruleForm\"\r\n            label-width=\"80px\"\r\n            class=\"demo-ruleForm _pr20 _pt10\"\r\n          >\r\n            <el-form-item label=\"用户名\" prop=\"name\">\r\n              <el-input v-model=\"ruleForm.name\" @keyup.enter.native=\"keyup\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"_mb0\" label=\"密码\" prop=\"pass\">\r\n              <el-input\r\n                type=\"password\"\r\n                @keyup.enter.native=\"keyup\"\r\n                v-model=\"ruleForm.pass\"\r\n                autocomplete=\"off\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <el-form-item class=\"_mb0\">\r\n              <el-checkbox v-model=\"ruleForm.checked\">记住密码</el-checkbox>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">登录</el-button>\r\n              <!-- <el-button @click=\"resetForm('ruleForm')\">重置</el-button> -->\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </template>\r\n    </draggable-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport draggableDialog from \"@/components/draggableDialog/Index\";\r\nimport { getToken, getUserInfo } from \"@/api/login/index\";\r\nexport default {\r\n  name: \"Login\",\r\n  components: { draggableDialog },\r\n  data() {\r\n    return {\r\n      rules: {\r\n        name: [{ required: true, message: \"请输入用户名\", trigger: \"blur\" }],\r\n        pass: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }]\r\n      },\r\n      ruleForm: { name: \"\", pass: \"\", checked: true }\r\n      // 默认创建两个用户账号\r\n    };\r\n  },\r\n  created() {\r\n    this.getCookie();\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          this.login();\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    keyup(e) {\r\n      this.login();\r\n    },\r\n    login() {\r\n      // 1、获取token\r\n      //    1.1、通过本地获取token，\r\n      let res = getToken(this.ruleForm.name, this.ruleForm.pass);\r\n      let { code, message, result } = res;\r\n      //    1.2、验证用户账号密码，请求token，通过则进入2，否则重新输入账号密码\r\n      if (code === 200) {\r\n        if (this.ruleForm.checked) {\r\n          this.setCookie(this.ruleForm.name, this.ruleForm.pass, 7);\r\n        } else {\r\n          this.clearCookie();\r\n        }\r\n        localStorage.setItem(\"vvmily-user-token\", result.token);\r\n        // 2、通过token请求用户信息\r\n        let user = getUserInfo(result.token, this.ruleForm);\r\n        let { code: _code, message: _message, result: _result } = user;\r\n        //    2.1 正常通过token请求用户信息\r\n        //    2.2 token过期---进入1，重新验证账号获取token\r\n        if (_code === 200) {\r\n          // 3、获取用户信息\r\n          //    3.1 正常获取用户信息，进入首页\r\n          //    3.2 请求失败，返回说明，并重新发送请求\r\n          localStorage.setItem(\"vvmily-user-info\", JSON.stringify(_result));\r\n          this.$router.push({\r\n            path: \"/index\",\r\n            query: {\r\n              status: \"1\"\r\n            }\r\n          });\r\n        } else {\r\n          this.$message.warning(_message);\r\n        }\r\n      } else {\r\n        this.$message.warning(message);\r\n      }\r\n    },\r\n    //设置cookie\r\n    setCookie(name, pass, time) {\r\n      var date = new Date(); //获取时间\r\n      date.setTime(date.getTime() + 24 * 60 * 60 * 1000 * time); //保存的天数\r\n      //字符串拼接cookie，密码应该加密的，哈哈哈\r\n      window.document.cookie =\r\n        \"name\" + \"=\" + name + \";path=/;expires=\" + date.toGMTString(); // path那些路径下的文件有权限读取，expires过期时间\r\n      window.document.cookie =\r\n        \"pass\" + \"=\" + pass + \";path=/;expires=\" + date.toGMTString();\r\n    },\r\n    //读取cookie\r\n    getCookie: function() {\r\n      if (document.cookie.length > 0) {\r\n        var arr = document.cookie.split(\"; \");\r\n        for (var i = 0; i < arr.length; i++) {\r\n          var arr2 = arr[i].split(\"=\");\r\n          if (arr2[0] == \"name\") {\r\n            this.ruleForm.name = arr2[1];\r\n          } else if (arr2[0] == \"pass\") {\r\n            this.ruleForm.pass = arr2[1];\r\n          }\r\n        }\r\n        this.ruleForm.checked = true;\r\n      } else {\r\n        this.ruleForm.checked = false;\r\n      }\r\n    },\r\n    //清除cookie\r\n    clearCookie() {\r\n      this.setCookie(\"\", \"\", -1);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"../../assets/styles/variable.scss\";\r\n.login_login-container {\r\n  height: 100%;\r\n  background: $themeColor;\r\n  .layout-login {\r\n    box-shadow: 0 0 10px $themeColor;\r\n    background: #fff;\r\n\r\n    .login-title {\r\n      height: 40px;\r\n      line-height: 40px;\r\n      background: #39c5ca;\r\n      padding: 0 10px;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      text-align: center;\r\n      font-weight: bold;\r\n    }\r\n    .login-form {\r\n      min-height: 200px;\r\n      box-sizing: border-box;\r\n      padding: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_login-container\"},[_c('draggable-dialog',{staticClass:\"layout-login\",attrs:{\"center\":true,\"width\":400}},[_c('template',{slot:\"header\"},[_c('div',{staticClass:\"login-title\"},[_c('span',[_vm._v(\"登 录\")])])]),_vm._v(\" \"),_c('template',{slot:\"body\"},[_c('div',{staticClass:\"login-form\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm _pr20 _pt10\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.keyup($event)}},model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"_mb0\",attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.keyup($event)}},model:{value:(_vm.ruleForm.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"pass\", $$v)},expression:\"ruleForm.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"_mb0\"},[_c('el-checkbox',{model:{value:(_vm.ruleForm.checked),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checked\", $$v)},expression:\"ruleForm.checked\"}},[_vm._v(\"记住密码\")])],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"登录\")])],1)],1)],1)])],2)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-8c45f92c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8c45f92c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8c45f92c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}